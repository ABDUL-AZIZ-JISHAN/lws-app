{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { get, getDatabase, limitToFirst, orderByKey, query, ref, startAt } from 'firebase/database';\nimport { useEffect, useState } from 'react';\n\nconst UseVideoList = page => {\n  _s();\n\n  const [Loading, setLoading] = useState(true);\n  const [Error, setError] = useState();\n  const [Videos, setVideos] = useState([]);\n  const [hasMore, setHasMore] = useState(true);\n  useEffect(() => {\n    async function fetchVideos() {\n      const DB = getDatabase();\n      const VideoRef = ref(DB, 'videos');\n      const VideoQuery = query(VideoRef, orderByKey(), startAt(\"\" + page), limitToFirst(page));\n\n      try {\n        setError(false);\n        setLoading(true);\n        const snapshot = await get(VideoQuery);\n        setLoading(false);\n\n        if (snapshot.exists()) {\n          setVideos(prev => {\n            return [...prev, Object.values(snapshot.val())];\n          });\n        }\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n        setError(true);\n      }\n    }\n\n    fetchVideos();\n  }, [page]);\n  return {\n    Loading,\n    Error,\n    Videos,\n    hasMore\n  };\n};\n\n_s(UseVideoList, \"f3EuG8VtyHMD7HCbIgfmcjl+b+w=\");\n\n_c = UseVideoList;\nexport default UseVideoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseVideoList\");","map":{"version":3,"names":["get","getDatabase","limitToFirst","orderByKey","query","ref","startAt","useEffect","useState","UseVideoList","page","Loading","setLoading","Error","setError","Videos","setVideos","hasMore","setHasMore","fetchVideos","DB","VideoRef","VideoQuery","snapshot","exists","prev","Object","values","val","err","console","log"],"sources":["C:/Users/abdul/Desktop/final-app/src/components/hooks/useVideoList.js"],"sourcesContent":["import { get, getDatabase , limitToFirst, orderByKey, query, ref, startAt } from 'firebase/database'\r\nimport { useEffect , useState} from 'react';\r\n\r\n\r\n\r\nconst UseVideoList = (page) => {\r\n\r\n\r\n    \r\nconst [Loading, setLoading] = useState(true)\r\nconst [Error , setError] = useState()\r\nconst [Videos , setVideos] = useState([])\r\nconst [hasMore, setHasMore] = useState(true)\r\n\r\n    useEffect(() =>{\r\n             async function fetchVideos(){\r\n                 const DB = getDatabase()\r\n                const VideoRef = ref(DB, 'videos')\r\n                const VideoQuery = query(VideoRef, orderByKey(), startAt(\"\" + page), limitToFirst(page))\r\n\r\n\r\n                try{\r\n                    setError(false)\r\n                    setLoading(true)\r\n\r\n                    const snapshot = await get(VideoQuery);\r\n                    setLoading(false)\r\n\r\n                    if(snapshot.exists()){\r\n                        setVideos((prev) =>{\r\n                            return [...prev, Object.values(snapshot.val())]\r\n                        })\r\n                    }\r\n\r\n                }catch(err){\r\n                    console.log(err);\r\n                    setLoading(false)\r\n                    setError(true)\r\n                }\r\n                \r\n             }\r\n\r\n             fetchVideos()\r\n    },[page])\r\n    \r\n\r\n    return{\r\n        Loading,\r\n        Error,\r\n        Videos,\r\n        hasMore\r\n    }\r\n    \r\n}\r\n\r\nexport default UseVideoList;\r\n"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,WAAd,EAA4BC,YAA5B,EAA0CC,UAA1C,EAAsDC,KAAtD,EAA6DC,GAA7D,EAAkEC,OAAlE,QAAiF,mBAAjF;AACA,SAASC,SAAT,EAAqBC,QAArB,QAAoC,OAApC;;AAIA,MAAMC,YAAY,GAAIC,IAAD,IAAU;EAAA;;EAI/B,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACK,KAAD,EAASC,QAAT,IAAqBN,QAAQ,EAAnC;EACA,MAAM,CAACO,MAAD,EAAUC,SAAV,IAAuBR,QAAQ,CAAC,EAAD,CAArC;EACA,MAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;EAEID,SAAS,CAAC,MAAK;IACN,eAAeY,WAAf,GAA4B;MACxB,MAAMC,EAAE,GAAGnB,WAAW,EAAtB;MACD,MAAMoB,QAAQ,GAAGhB,GAAG,CAACe,EAAD,EAAK,QAAL,CAApB;MACA,MAAME,UAAU,GAAGlB,KAAK,CAACiB,QAAD,EAAWlB,UAAU,EAArB,EAAyBG,OAAO,CAAC,KAAKI,IAAN,CAAhC,EAA6CR,YAAY,CAACQ,IAAD,CAAzD,CAAxB;;MAGA,IAAG;QACCI,QAAQ,CAAC,KAAD,CAAR;QACAF,UAAU,CAAC,IAAD,CAAV;QAEA,MAAMW,QAAQ,GAAG,MAAMvB,GAAG,CAACsB,UAAD,CAA1B;QACAV,UAAU,CAAC,KAAD,CAAV;;QAEA,IAAGW,QAAQ,CAACC,MAAT,EAAH,EAAqB;UACjBR,SAAS,CAAES,IAAD,IAAS;YACf,OAAO,CAAC,GAAGA,IAAJ,EAAUC,MAAM,CAACC,MAAP,CAAcJ,QAAQ,CAACK,GAAT,EAAd,CAAV,CAAP;UACH,CAFQ,CAAT;QAGH;MAEJ,CAbD,CAaC,OAAMC,GAAN,EAAU;QACPC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACAjB,UAAU,CAAC,KAAD,CAAV;QACAE,QAAQ,CAAC,IAAD,CAAR;MACH;IAEH;;IAEDK,WAAW;EACnB,CA7BQ,EA6BP,CAACT,IAAD,CA7BO,CAAT;EAgCA,OAAM;IACFC,OADE;IAEFE,KAFE;IAGFE,MAHE;IAIFE;EAJE,CAAN;AAOH,CAhDD;;GAAMR,Y;;KAAAA,Y;AAkDN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}