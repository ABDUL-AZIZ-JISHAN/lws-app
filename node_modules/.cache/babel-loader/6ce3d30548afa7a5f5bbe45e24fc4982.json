{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { get, getDatabase, orderByKey, query, ref } from \"firebase/database\";\nimport { useEffect, useState } from \"react\";\nexport default function useQuestions(videoID) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [questions, setQuestions] = useState([]);\n  useEffect(() => {\n    async function fetchQuestions() {\n      // database related works\n      const db = getDatabase();\n      const quizRef = ref(db, \"quiz/\" + videoID + \"/questions\");\n      const quizQuery = query(quizRef, orderByKey());\n\n      try {\n        setError(false);\n        setLoading(true); // request firebase database\n\n        const snapshot = await get(quizQuery);\n        setLoading(false);\n\n        if (snapshot.exists()) {\n          console.log(snapshot.v);\n          setQuestions(prevQuestions => {\n            return [...prevQuestions, ...Object.values(snapshot.val())];\n          });\n        }\n      } catch (err) {\n        console.log(err.message);\n        setLoading(false);\n        setError(true);\n      }\n    }\n\n    fetchQuestions();\n  }, [videoID]);\n  return {\n    loading,\n    error,\n    questions\n  };\n}\n\n_s(useQuestions, \"Mm32FY5+7+By1LFeKSLK9qnaUmQ=\");","map":{"version":3,"names":["get","getDatabase","orderByKey","query","ref","useEffect","useState","useQuestions","videoID","loading","setLoading","error","setError","questions","setQuestions","fetchQuestions","db","quizRef","quizQuery","snapshot","exists","console","log","v","prevQuestions","Object","values","val","err","message"],"sources":["C:/Users/abdul/Desktop/final-app/src/components/hooks/useQuestion.js"],"sourcesContent":["import { get, getDatabase, orderByKey, query, ref } from \"firebase/database\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function useQuestions(videoID) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [questions, setQuestions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchQuestions() {\r\n      // database related works\r\n      const db = getDatabase();\r\n      const quizRef = ref(db, \"quiz/\" + videoID + \"/questions\");\r\n      const quizQuery = query(quizRef, orderByKey());\r\n\r\n      try {\r\n        setError(false);\r\n        setLoading(true);\r\n        // request firebase database\r\n        const snapshot = await get(quizQuery);\r\n        setLoading(false);\r\n        if (snapshot.exists()) {\r\n          console.log(snapshot.v)\r\n          setQuestions((prevQuestions) => {\r\n            return [...prevQuestions, ...Object.values(snapshot.val())];\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n        setLoading(false);\r\n        setError(true);\r\n      }\r\n    }\r\n\r\n    fetchQuestions();\r\n  }, [videoID]);\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    questions,\r\n  };\r\n}"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,WAAd,EAA2BC,UAA3B,EAAuCC,KAAvC,EAA8CC,GAA9C,QAAyD,mBAAzD;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,eAAe,SAASC,YAAT,CAAsBC,OAAtB,EAA+B;EAAA;;EAC5C,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;EAEAD,SAAS,CAAC,MAAM;IACd,eAAeU,cAAf,GAAgC;MAC9B;MACA,MAAMC,EAAE,GAAGf,WAAW,EAAtB;MACA,MAAMgB,OAAO,GAAGb,GAAG,CAACY,EAAD,EAAK,UAAUR,OAAV,GAAoB,YAAzB,CAAnB;MACA,MAAMU,SAAS,GAAGf,KAAK,CAACc,OAAD,EAAUf,UAAU,EAApB,CAAvB;;MAEA,IAAI;QACFU,QAAQ,CAAC,KAAD,CAAR;QACAF,UAAU,CAAC,IAAD,CAAV,CAFE,CAGF;;QACA,MAAMS,QAAQ,GAAG,MAAMnB,GAAG,CAACkB,SAAD,CAA1B;QACAR,UAAU,CAAC,KAAD,CAAV;;QACA,IAAIS,QAAQ,CAACC,MAAT,EAAJ,EAAuB;UACrBC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,CAArB;UACAT,YAAY,CAAEU,aAAD,IAAmB;YAC9B,OAAO,CAAC,GAAGA,aAAJ,EAAmB,GAAGC,MAAM,CAACC,MAAP,CAAcP,QAAQ,CAACQ,GAAT,EAAd,CAAtB,CAAP;UACD,CAFW,CAAZ;QAGD;MACF,CAZD,CAYE,OAAOC,GAAP,EAAY;QACZP,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,OAAhB;QACAnB,UAAU,CAAC,KAAD,CAAV;QACAE,QAAQ,CAAC,IAAD,CAAR;MACD;IACF;;IAEDG,cAAc;EACf,CA3BQ,EA2BN,CAACP,OAAD,CA3BM,CAAT;EA6BA,OAAO;IACLC,OADK;IAELE,KAFK;IAGLE;EAHK,CAAP;AAKD;;GAvCuBN,Y"},"metadata":{},"sourceType":"module"}