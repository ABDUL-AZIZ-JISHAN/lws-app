{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { get, getDatabase, orderByKey, query, ref } from \"firebase/database\";\nimport { useEffect, useState } from \"react\";\nexport default function useVideoList(page) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [videos, setVideos] = useState([]);\n  useEffect(() => {\n    async function fetchVideos() {\n      // database related works\n      const db = getDatabase();\n      const videosRef = ref(db, \"videos\");\n      const videoQuery = query(videosRef, orderByKey());\n\n      try {\n        setError(false);\n        setLoading(true); // request firebase database\n\n        const snapshot = await get(videoQuery);\n        setLoading(false);\n\n        if (snapshot.exists()) {\n          setVideos(prevVideos => {\n            return [...prevVideos, ...Object.values(snapshot.val())];\n          });\n        } else {}\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n        setError(true);\n      }\n    }\n\n    fetchVideos();\n  }, []);\n  return {\n    loading,\n    error,\n    videos\n  };\n}\n\n_s(useVideoList, \"HTmie9OJeIY2W1ptq/2ModrdaKQ=\");","map":{"version":3,"names":["get","getDatabase","orderByKey","query","ref","useEffect","useState","useVideoList","page","loading","setLoading","error","setError","videos","setVideos","fetchVideos","db","videosRef","videoQuery","snapshot","exists","prevVideos","Object","values","val","err","console","log"],"sources":["C:/Users/abdul/Desktop/final-app/src/components/hooks/useVideoList.js"],"sourcesContent":["import {\r\n    get,\r\n    getDatabase,\r\n    orderByKey,\r\n    query,\r\n    ref,\r\n  } from \"firebase/database\";\r\n  import { useEffect, useState } from \"react\";\r\n  \r\n  export default function useVideoList(page) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n    const [videos, setVideos] = useState([]);\r\n   \r\n  \r\n    useEffect(() => {\r\n      async function fetchVideos() {\r\n        // database related works\r\n        const db = getDatabase();\r\n        const videosRef = ref(db, \"videos\");\r\n        const videoQuery = query(\r\n          videosRef,\r\n          orderByKey(),\r\n        );\r\n  \r\n        try {\r\n          setError(false);\r\n          setLoading(true);\r\n          // request firebase database\r\n          const snapshot = await get(videoQuery);\r\n          setLoading(false);\r\n          if (snapshot.exists()) {\r\n            setVideos((prevVideos) => {\r\n              return [...prevVideos, ...Object.values(snapshot.val())];\r\n            });\r\n          } else {\r\n           \r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n          setLoading(false);\r\n          setError(true);\r\n        }\r\n      }\r\n  \r\n      fetchVideos();\r\n    }, []);\r\n  \r\n    return {\r\n      loading,\r\n      error,\r\n      videos,\r\n\r\n    };\r\n  }"],"mappings":";;AAAA,SACIA,GADJ,EAEIC,WAFJ,EAGIC,UAHJ,EAIIC,KAJJ,EAKIC,GALJ,QAMS,mBANT;AAOE,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,eAAe,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;EAAA;;EACzC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;EAGAD,SAAS,CAAC,MAAM;IACd,eAAeU,WAAf,GAA6B;MAC3B;MACA,MAAMC,EAAE,GAAGf,WAAW,EAAtB;MACA,MAAMgB,SAAS,GAAGb,GAAG,CAACY,EAAD,EAAK,QAAL,CAArB;MACA,MAAME,UAAU,GAAGf,KAAK,CACtBc,SADsB,EAEtBf,UAAU,EAFY,CAAxB;;MAKA,IAAI;QACFU,QAAQ,CAAC,KAAD,CAAR;QACAF,UAAU,CAAC,IAAD,CAAV,CAFE,CAGF;;QACA,MAAMS,QAAQ,GAAG,MAAMnB,GAAG,CAACkB,UAAD,CAA1B;QACAR,UAAU,CAAC,KAAD,CAAV;;QACA,IAAIS,QAAQ,CAACC,MAAT,EAAJ,EAAuB;UACrBN,SAAS,CAAEO,UAAD,IAAgB;YACxB,OAAO,CAAC,GAAGA,UAAJ,EAAgB,GAAGC,MAAM,CAACC,MAAP,CAAcJ,QAAQ,CAACK,GAAT,EAAd,CAAnB,CAAP;UACD,CAFQ,CAAT;QAGD,CAJD,MAIO,CAEN;MACF,CAbD,CAaE,OAAOC,GAAP,EAAY;QACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACAf,UAAU,CAAC,KAAD,CAAV;QACAE,QAAQ,CAAC,IAAD,CAAR;MACD;IACF;;IAEDG,WAAW;EACZ,CA/BQ,EA+BN,EA/BM,CAAT;EAiCA,OAAO;IACLN,OADK;IAELE,KAFK;IAGLE;EAHK,CAAP;AAMD;;GA7CuBN,Y"},"metadata":{},"sourceType":"module"}